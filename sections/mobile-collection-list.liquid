{% comment %}
  Section: Mobile Collection List
  Description: Displays a horizontal scrollable list of circular images with titles and Instagram Story-inspired rotating borders.
  Last Updated: 2025-03-08
  Backup Tag: v1.0-instagram-border
{% endcomment %}

<div class="new-mobile-collection-list-wrapper">
  {% comment %} Wrapper for the scrollable list of collection items {% endcomment %}
  <div class="new-mobile-collection-list">
    {% for block in section.blocks %}
      {% if block.settings.image and block.settings.title %}
        {% comment %} Individual collection item with image and title {% endcomment %}
        <div class="new-collection-item" style="width: 100px; max-width: 100px; min-width: 100px; height: 140px; text-align: center; padding: 0 5px; flex-shrink: 0; position: relative;">
          <a href="{{ block.settings.link | default: '#' }}" style="text-decoration: none;">
            <div class="new-collection-image" style="width: 100px; height: 100px; border-radius: 50%; position: relative;">
              <img src="{{ block.settings.image | img_url: 'master' }}" alt="{{ block.settings.title }}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%; position: relative; z-index: 2;">
            </div>
            <div class="new-collection-title" style="padding-top: 5px;">
              <h4 style="color: #000; font-size: 11px; line-height: 13px; font-weight: 600; white-space: normal; overflow: hidden; text-overflow: ellipsis; margin: 0;">
                {{ block.settings.title }}
              </h4>
            </div>
          </a>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<style>
  /* Wrapper styles for the scrollable list */
  .new-mobile-collection-list-wrapper {
    width: 100%;
    margin: 0 auto;
    overflow-x: auto;
    padding: 20px 0 20px 10px; /* Adjusted padding to start from left */
    box-sizing: border-box;
    max-width: 1600px;
  }

  /* Flex container for the list of items */
  .new-mobile-collection-list {
    display: flex;
    gap: 15px; /* Prevents border overlap */
    white-space: nowrap;
    min-width: 0;
    justify-content: center; /* Default for desktop */
  }

  /* Hide scrollbar for a cleaner look */
  .new-mobile-collection-list-wrapper::-webkit-scrollbar {
    display: none;
  }
  .new-mobile-collection-list-wrapper {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Instagram Story-inspired rotating border */
  .new-collection-image {
    position: relative;
  }

  .new-collection-image::before {
    content: '';
    position: absolute;
    top: -3px; /* 6px total thickness */
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: 50%;
    background: conic-gradient(#833AB4, #FD1D1D, #FCAF45, #E1306C, #833AB4); /* Instagram Story colors: Purple, Red/Orange, Orange, Pink */
    animation: rainbowRotate 4s linear infinite;
    z-index: 1;
    pointer-events: none;
  }

  /* Animation for the rotating border */
  @keyframes rainbowRotate {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  /* Tablet styles */
  @media only screen and (min-width: 481px) and (max-width: 767px) {
    .new-mobile-collection-list-wrapper {
      padding: 20px 0 20px 10px; /* Adjusted padding */
      max-width: 1600px;
    }
    .new-mobile-collection-list {
      justify-content: flex-start; /* Align to left on tablet */
    }
    .new-mobile-collection-list .new-collection-item {
      width: 100px;
      max-width: 100px;
      min-width: 100px;
      height: 140px;
    }
    .new-mobile-collection-list .new-collection-item .new-collection-image {
      width: 100px;
      height: 100px;
    }
    .new-collection-image::before {
      top: -3px;
      left: -3px;
      right: -3px;
      bottom: -3px;
    }
    .new-mobile-collection-list .new-collection-item .new-collection-image img {
      width: 100px;
      height: 100px;
    }
  }

  /* Desktop styles */
  @media only screen and (min-width: 768px) {
    .new-mobile-collection-list-wrapper {
      padding: 20px 10px;
      max-width: 1600px;
    }
    .new-mobile-collection-list .new-collection-item {
      width: 150px;
      max-width: 150px;
      min-width: 150px;
      height: 190px;
    }
    .new-mobile-collection-list .new-collection-item .new-collection-image {
      width: 150px;
      height: 150px;
    }
    .new-collection-image::before {
      top: -3px;
      left: -3px;
      right: -3px;
      bottom: -3px;
    }
    .new-mobile-collection-list .new-collection-item .new-collection-image img {
      width: 150px;
      height: 150px;
    }
    .new-mobile-collection-list .new-collection-title h4 {
      font-size: 14px;
      line-height: 16px;
    }
  }

  /* Mobile styles */
  @media only screen and (max-width: 480px) {
    .new-mobile-collection-list-wrapper {
      padding: 20px 0 20px 10px; /* Adjusted padding */
      max-width: 1600px;
    }
    .new-mobile-collection-list {
      justify-content: flex-start; /* Align to left on mobile */
    }
  }
</style>

{% comment %}
  Schema for the section, defining the blocks for images, titles, and links.
  This allows the section to be configured in the Shopify Customizer.
{% endcomment %}
{% schema %}
{
  "name": "Mobile Collection List",
  "settings": [],
  "blocks": [
    {
      "type": "image",
      "name": "Collection",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Collection Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Collection Title",
          "default": "Summer Clearance"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Collection Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Mobile Collection List"
    }
  ]
}
{% endschema %}
